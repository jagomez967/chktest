!function (e) { e.fn.droptabs = function (t) { var n = e.extend({ dropdownSelector: "li.dropdown", dropdownMenuSelector: "ul.dropdown-menu", dropdownTabsSelector: "li", visibleTabsSelector: ">li:not(.dropdown)", developmentId: "dt-devInfo", autoArrangeTabs: !0, development: !1 }, t); return this.each(function () { function t() { var t = c().first().clone().appendTo(s).css("position", "fixed"), n = e(t).outerWidth(); return e(t).remove(), n } function o(t) { var n = e(t).clone().appendTo(s).css("position", "fixed"), o = e(n).outerWidth(); return e(n).remove(), o } function i(t) { e("a", e(t)).on("show.bs.tab", function (t) { e(t.relatedTarget).parent().removeClass("active") }), e("a", e(t)).on("shown.bs.tab", function (t) { e(a).hasClass("active") ? e(">a", a).html(e(">li.active>a", d).html().substring(0, 10) + '... <b class="caret"></b>') : e(">a", a).html('Dropdown <b class="caret"></b>') }) } function r(t, n) { var o = t.replace(/\s+/g, "-").toLowerCase(); return e("#" + o).length > 0 ? e("#" + o).text(t + ": " + n) : e("#dt-devInfo").append('<div id="' + o + '">' + t + ": " + n + "</div>"), !0 } var s = e(this), a = e(n.dropdownSelector, this), d = e(n.dropdownMenuSelector, a), c = function () { return e(n.dropdownTabsSelector, d) }, u = function () { return e(n.visibleTabsSelector, s) }; if (n.development) { e("body").append('<div class="alert alert-success" id="' + n.developmentId + '"></div>'); var h = e("#" + n.developmentId); e(h).css("position", "fixed").css("right", "20px").css("bottom", "20px") } var l = function () { var t = 0; return e(u()).each(function (n) { t += parseInt(e(this).outerWidth(), 10) }), t += parseInt(e(a).outerWidth(), 10) }, p = function () { return s.outerWidth() - l() }, v = function () { if (n.development && (r("Container width", s.outerWidth()), r("Visible tabs width", l()), r("Available space", p()), r("First hidden", t())), p() < 0) { var i = p(); e(u().get().reverse()).each(function (t) { return e(this).hasClass("always-visible") || (e(this).prependTo(d), i += e(this).outerWidth()), i >= 0 ? !1 : void 0 }) } if (p() > t()) { var i = p(); e(c()).each(function (t) { return o(this) < i && !e(this).hasClass("always-dropdown") ? (e(this).appendTo(s), void (i -= e(this).outerWidth())) : !1 }) } c().length <= 0 ? a.hide() : a.show() }; if (n.autoArrangeTabs) { var f = []; e(u().get().reverse()).each(function (t) { e(this).hasClass("always-visible") && (f.push(e(this)), e(this).remove()) }); for (var b = 0; b < f.length; b++) s.prepend(f[b]) } return e(document).ready(function () { v(), c().each(function () { i(e(this)) }), u().each(function () { i(e(this)) }) }), e(window).resize(function () { v() }), this }) } }(jQuery);