@using Reporting.ViewModels
@model List<MetricasNivelViewModel>

@foreach (MetricasNivelViewModel niv in Model)
{
    <div class="container-fluid panel panel-default nivelMetrica" data-nivel="@niv.nivel">

        @if (niv.usaTotal)
        {
            <a href="javascript:void(0)" data-id="1">
                <div id="@("metTotal")" class="metrica" data-dimension="150" data-text="@(niv.valorTotalAVG+"%")" data-info="@(niv.valorVarianzaTotal+"%")" data-fontsize="36" data-percent="@niv.valorTotalAVG" data-fgcolor="@niv.color" data-bgcolor="#eee" data-total="100" data-bordersize="12" style="float:left;"></div>
            </a>
        }

        @foreach (MetricaDataViewModel dat in niv.data)
        {
            <a href="javascript:void(0)" data-id="1">
                <div id="@("met-"+dat.id)" class="metrica" data-id="@dat.id" data-parent="@dat.parentId" data-dimension="150" data-text="@(dat.valor+"%")" data-info="@(dat.varianza+"%")" data-fontsize="32" data-percent="@dat.valor" data-fgcolor="@dat.color" data-bgcolor="#eee" data-total="100" data-bordersize="12" style="float:left;">
                    <div id="logo">
                        <img src="@("data:image/png;base64," + dat.logo)" width="100" height="33" style="max-width: 100%; max-height: 100%; display:block; margin:auto;" />
                    </div>
                </div>
            </a>
        }
    </div>
}